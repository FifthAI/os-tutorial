file name is localvars
i386-elf-gcc -ffreestanding -c "$*.c" -o "$*.o"

---------------------------------------------------------------
i386-elf-objdump -d "$*.o"

localvars.o:     file format elf32-i386


Disassembly of section .text:

00000000 <my_function>:
   0:	55                   	push   %ebp
   1:	89 e5                	mov    %esp,%ebp
   3:	83 ec 10             	sub    $0x10,%esp
   6:	c7 45 fc ba ba 00 00 	movl   $0xbaba,-0x4(%ebp)
   d:	8b 45 fc             	mov    -0x4(%ebp),%eax
  10:	c9                   	leave  
  11:	c3                   	ret    

---------------------------------------------------------------
i386-elf-ld -o "$*.bin" -Ttext 0x0 --oformat binary "$*.o"
i386-elf-ld: warning: cannot find entry symbol _start; defaulting to 0000000000000000
---------------------------------------------------------------
xxd "$*.o"
00000000: 7f45 4c46 0101 0100 0000 0000 0000 0000  .ELF............
00000010: 0100 0300 0100 0000 0000 0000 0000 0000  ................
00000020: d400 0000 0000 0000 3400 0000 0000 2800  ........4.....(.
00000030: 0a00 0700 5589 e583 ec10 c745 fcba ba00  ....U......E....
00000040: 008b 45fc c9c3 0047 4343 3a20 2847 4e55  ..E....GCC: (GNU
00000050: 2920 342e 392e 3100 1400 0000 0000 0000  ) 4.9.1.........
00000060: 017a 5200 017c 0801 1b0c 0404 8801 0000  .zR..|..........
00000070: 1c00 0000 1c00 0000 0000 0000 1200 0000  ................
00000080: 0041 0e08 8502 420d 054e c50c 0404 0000  .A....B..N......
00000090: 002e 7379 6d74 6162 002e 7374 7274 6162  ..symtab..strtab
000000a0: 002e 7368 7374 7274 6162 002e 7465 7874  ..shstrtab..text
000000b0: 002e 6461 7461 002e 6273 7300 2e63 6f6d  ..data..bss..com
000000c0: 6d65 6e74 002e 7265 6c2e 6568 5f66 7261  ment..rel.eh_fra
000000d0: 6d65 0000 0000 0000 0000 0000 0000 0000  me..............
000000e0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
000000f0: 0000 0000 0000 0000 0000 0000 1b00 0000  ................
00000100: 0100 0000 0600 0000 0000 0000 3400 0000  ............4...
00000110: 1200 0000 0000 0000 0000 0000 0100 0000  ................
00000120: 0000 0000 2100 0000 0100 0000 0300 0000  ....!...........
00000130: 0000 0000 4600 0000 0000 0000 0000 0000  ....F...........
00000140: 0000 0000 0100 0000 0000 0000 2700 0000  ............'...
00000150: 0800 0000 0300 0000 0000 0000 4600 0000  ............F...
00000160: 0000 0000 0000 0000 0000 0000 0100 0000  ................
00000170: 0000 0000 2c00 0000 0100 0000 3000 0000  ....,.......0...
00000180: 0000 0000 4600 0000 1200 0000 0000 0000  ....F...........
00000190: 0000 0000 0100 0000 0100 0000 3900 0000  ............9...
000001a0: 0100 0000 0200 0000 0000 0000 5800 0000  ............X...
000001b0: 3800 0000 0000 0000 0000 0000 0400 0000  8...............
000001c0: 0000 0000 3500 0000 0900 0000 0000 0000  ....5...........
000001d0: 0000 0000 0003 0000 0800 0000 0800 0000  ................
000001e0: 0500 0000 0400 0000 0800 0000 1100 0000  ................
000001f0: 0300 0000 0000 0000 0000 0000 9000 0000  ................
00000200: 4300 0000 0000 0000 0000 0000 0100 0000  C...............
00000210: 0000 0000 0100 0000 0200 0000 0000 0000  ................
00000220: 0000 0000 6402 0000 8000 0000 0900 0000  ....d...........
00000230: 0700 0000 0400 0000 1000 0000 0900 0000  ................
00000240: 0300 0000 0000 0000 0000 0000 e402 0000  ................
00000250: 1900 0000 0000 0000 0000 0000 0100 0000  ................
00000260: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000270: 0000 0000 0100 0000 0000 0000 0000 0000  ................
00000280: 0400 f1ff 0000 0000 0000 0000 0000 0000  ................
00000290: 0300 0100 0000 0000 0000 0000 0000 0000  ................
000002a0: 0300 0200 0000 0000 0000 0000 0000 0000  ................
000002b0: 0300 0300 0000 0000 0000 0000 0000 0000  ................
000002c0: 0300 0500 0000 0000 0000 0000 0000 0000  ................
000002d0: 0300 0400 0d00 0000 0000 0000 1200 0000  ................
000002e0: 1200 0100 006c 6f63 616c 7661 7273 2e63  .....localvars.c
000002f0: 006d 795f 6675 6e63 7469 6f6e 0000 0000  .my_function....
00000300: 2000 0000 0202 0000                       .......
---------------------------------------------------------------
xxd "$*.bin"
00000000: 5589 e583 ec10 c745 fcba ba00 008b 45fc  U......E......E.
00000010: c9c3 0000 1400 0000 0000 0000 017a 5200  .............zR.
00000020: 017c 0801 1b0c 0404 8801 0000 1c00 0000  .|..............
00000030: 1c00 0000 ccff ffff 1200 0000 0041 0e08  .............A..
00000040: 8502 420d 054e c50c 0404 0000            ..B..N......
---------------------------------------------------------------
ndisasm -b 32 "$*.bin"
00000000  55                push ebp
00000001  89E5              mov ebp,esp
00000003  83EC10            sub esp,byte +0x10
00000006  C745FCBABA0000    mov dword [ebp-0x4],0xbaba
0000000D  8B45FC            mov eax,[ebp-0x4]
00000010  C9                leave
00000011  C3                ret
00000012  0000              add [eax],al
00000014  1400              adc al,0x0
00000016  0000              add [eax],al
00000018  0000              add [eax],al
0000001A  0000              add [eax],al
0000001C  017A52            add [edx+0x52],edi
0000001F  0001              add [ecx],al
00000021  7C08              jl 0x2b
00000023  011B              add [ebx],ebx
00000025  0C04              or al,0x4
00000027  0488              add al,0x88
00000029  0100              add [eax],eax
0000002B  001C00            add [eax+eax],bl
0000002E  0000              add [eax],al
00000030  1C00              sbb al,0x0
00000032  0000              add [eax],al
00000034  CC                int3
00000035  FF                db 0xff
00000036  FF                db 0xff
00000037  FF12              call dword [edx]
00000039  0000              add [eax],al
0000003B  0000              add [eax],al
0000003D  41                inc ecx
0000003E  0E                push cs
0000003F  088502420D05      or [ebp+0x50d4202],al
00000045  4E                dec esi
00000046  C50C04            lds ecx,[esp+eax]
00000049  0400              add al,0x0
0000004B  00                db 0x00
---------------------------------------------------------------
